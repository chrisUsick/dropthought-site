<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="dt-wishlist-item.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="dt-ajax.html">

<dom-module id="page-wishlist">

  <template>

    <style include="shared-styles">
      :host {
        /*display: block;*/
        padding: 10px;
        /*@apply(--layout-horizontal);
        @apply(--layout-wrap);
        @apply(--layout-center-justified);*/
      }
      .contentContainer {

      }


    </style>

    <paper-card heading="Your wishlist">
      <div class="card-content">
        <paper-tabs selected="{{selectedTab}}">
            <paper-tab>
              Wishlist
            </paper-tab>
            <paper-tab>
              Orders
            </paper-tab>
            <paper-tab>
              Completed
            </paper-tab>
          </paper-tabs>
          <iron-pages selected="{{selectedTab}}">
            <div class="new">
              Wishlist
              <template is="dom-repeat" items="{{wishlistProducts}}">
                <dt-wishlist-item line-item="{{item}}"></dt-wishlist-item>
              </template>
            </div>
            <div class="verified">
              Orders
            </div>
            <div class="Completed">
              Completed
            </div>
          </iron-pages>
      </div>
    </paper-card>

    <dt-ajax
        id="ajaxProducts"
        path='/users/current/wishlist'
        authenticate
        last-response="{{wishlistProducts}}"></dt-ajax>
  </template>
  <script>

    Polymer({

      is: 'page-wishlist',
      properties: {
        wishlistProducts: {
          type: Array,
          notify: true
        },
        selectedTab: {
          type: Number,
          value: 0
        }
      },
      ready: function() {
        this.viewed();
      },
      viewed: function() {
        this.$.ajaxProducts.generateRequest();
      }
    });
  </script>
</dom-module>
